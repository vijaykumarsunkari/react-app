{"ast":null,"code":"import _slicedToArray from\"C:/Users/sys/Desktop/simple/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./index.css\";import{React,useEffect,useState}from\"react\";import Row from\"./components/row\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),details=_useState2[0],getDetails=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],getName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),age=_useState6[0],getAge=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),userId=_useState8[0],getID=_useState8[1];var _useState9=useState(\"Update\"),_useState10=_slicedToArray(_useState9,2),button=_useState10[0],updateButton=_useState10[1];var url=\"https://63cfdfa78a780ae6e67e6843.mockapi.io/api/students/studentdetails\";useEffect(function(){getUsers();},[]);function getUsers(){fetch(url).then(function(res){return res.json();}).then(function(result){getDetails(result);});}function deleteId(id){fetch(url+\"/\"+id,{method:\"DELETE\"});getDetails(details.filter(function(prev){return id!==prev.id;}));}function editRow(id){updateButton(\"Update\");var y=details.find(function(element){return element.id===id;});getName(y.name);getAge(y.age);getID(id);}function handleUpdate(event){var button_name=event.target.innerHTML;if(button_name===\"Update\"){var item={name:name,age:age};fetch(url,{method:\"PUT\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify(item)}).then(function(res){return res.json();}).then(function(result){getUsers();});getName(\"\");getAge(\"\");}else{var _item={name:name,age:age};fetch(url,{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify(_item)}).then(function(res){return res.json();}).then(function(result){getUsers();});getID(\"\");getName(\"\");getAge(\"\");}}function handleNewRecord(){//console.log(event.target.innerHTML);\ngetName(\"\");getAge(\"\");getID(parseInt(details[details.length-1].id)+1);updateButton(\"Insert\");}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Basic React App\"}),/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Student ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Student Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Student Age\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Edit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delete\"})]}),details.map(function(detail,index){return/*#__PURE__*/_jsx(Row,{id:detail.id,name:detail.name,age:detail.age,onDelete:deleteId,onEdit:editRow},index);})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Update Details\"}),/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"New record?\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleNewRecord,children:\"Yes\"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userId})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(e){return getName(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Age\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:age,onChange:function onChange(e){return getAge(e.target.value);}})})]}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdate,children:button})})})})]})})]})]});}","map":{"version":3,"names":["React","useEffect","useState","Row","App","props","details","getDetails","name","getName","age","getAge","userId","getID","button","updateButton","url","getUsers","fetch","then","res","json","result","deleteId","id","method","filter","prev","editRow","y","find","element","handleUpdate","event","button_name","target","innerHTML","item","headers","Accept","body","JSON","stringify","handleNewRecord","parseInt","length","map","detail","index","e","value"],"sources":["C:/Users/sys/Desktop/simple/src/App.js"],"sourcesContent":["import \"./index.css\";\nimport { React, useEffect, useState } from \"react\";\nimport Row from \"./components/row\";\n\nexport default function App(props) {\n\n  const [details, getDetails] = useState([]);\n  const [name, getName] = useState(\"\");\n  const [age, getAge] = useState(\"\");\n  const [userId, getID] = useState(\"\");\n  const [button,updateButton]=useState(\"Update\");\n  const url =\n    \"https://63cfdfa78a780ae6e67e6843.mockapi.io/api/students/studentdetails\";\n  \n  useEffect(() => {\n    getUsers();\n  },[]);\n  \n  function getUsers(){\n    fetch(url)\n      .then((res) => res.json())\n      .then((result) => {\n        getDetails(result);\n      });\n  }\n  function deleteId(id) {\n    fetch(url + \"/\" + id, { method: \"DELETE\" });\n    getDetails(\n      details.filter((prev) => {\n        return id !== prev.id;\n      })\n    );\n    \n  }\n\n  function editRow(id) {\n    updateButton(\"Update\");\n    let y = details.find((element) => {\n      return element.id === id;\n    });\n    getName(y.name);\n    getAge(y.age);\n    getID(id);\n  }\n\n  function handleUpdate(event) {\n    let button_name=(event.target.innerHTML);\n    if(button_name===\"Update\"){\n    let item = { name, age };\n\n    fetch(url, {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(item)\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        getUsers();\n      });\n    getName(\"\");\n    getAge(\"\");\n    }\n    else{\n      let item = { name, age };\n\n    fetch(url , {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(item)\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        getUsers();\n      });\n      getID(\"\");\n      getName(\"\");\n      getAge(\"\");\n    }\n  }\n  function handleNewRecord(){\n    //console.log(event.target.innerHTML);\n    getName(\"\");\n    getAge(\"\");\n    getID(parseInt(details[details.length-1].id)+1);\n    updateButton(\"Insert\");\n  }\n  \n\n  return (\n    <div className=\"App\">\n      <h1>Basic React App</h1>\n      <center>\n        <table>\n          <tr>\n            <th>Student ID</th>\n            <th>Student Name</th>\n            <th>Student Age</th>\n            <th>Edit</th>\n            <th>Delete</th>\n          </tr>\n          {details.map((detail, index) => {\n            return (\n              <Row\n                key={index}\n                id={detail.id}\n                name={detail.name}\n                age={detail.age}\n                onDelete={deleteId}\n                onEdit={editRow}\n              />\n            );\n          })}\n        </table>\n      </center>\n      <div>\n        <h2>Update Details</h2>\n        <center>\n          <table>\n            <tr>\n              <td>New record?</td>\n              <td><button onClick={handleNewRecord}>Yes</button></td>\n            </tr>\n          <tr>\n              <td>ID</td>\n              <td>\n                <input\n                  type=\"text\"\n                  value={userId}\n                  \n                />\n              </td>\n            </tr>\n            <tr>\n              <td>Name</td>\n              <td>\n                <input\n                  type=\"text\"\n                  value={name}\n                  onChange={(e) => getName(e.target.value)}\n                />\n              </td>\n            </tr>\n            <tr>\n              <td>Age</td>\n              <td>\n                <input\n                  type=\"text\"\n                  value={age}\n                  onChange={(e) => getAge(e.target.value)}\n                />\n              </td>\n            </tr>\n            <tr>\n              <td colSpan=\"2\">\n                <center>\n                  <button onClick={handleUpdate} >{button}</button>\n                </center>\n              </td>\n            </tr>\n          </table>\n        </center>\n      </div>\n    </div>\n  );\n}"],"mappings":"iHAAA,MAAO,aAAa,CACpB,OAASA,KAAK,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,IAAG,KAAM,kBAAkB,CAAC,wFAEnC,cAAe,SAASC,IAAG,CAACC,KAAK,CAAE,CAEjC,cAA8BH,QAAQ,CAAC,EAAE,CAAC,wCAAnCI,OAAO,eAAEC,UAAU,eAC1B,eAAwBL,QAAQ,CAAC,EAAE,CAAC,yCAA7BM,IAAI,eAAEC,OAAO,eACpB,eAAsBP,QAAQ,CAAC,EAAE,CAAC,yCAA3BQ,GAAG,eAAEC,MAAM,eAClB,eAAwBT,QAAQ,CAAC,EAAE,CAAC,yCAA7BU,MAAM,eAAEC,KAAK,eACpB,eAA4BX,QAAQ,CAAC,QAAQ,CAAC,0CAAvCY,MAAM,gBAACC,YAAY,gBAC1B,GAAMC,IAAG,CACP,yEAAyE,CAE3Ef,SAAS,CAAC,UAAM,CACdgB,QAAQ,EAAE,CACZ,CAAC,CAAC,EAAE,CAAC,CAEL,QAASA,SAAQ,EAAE,CACjBC,KAAK,CAACF,GAAG,CAAC,CACPG,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAACG,MAAM,CAAK,CAChBf,UAAU,CAACe,MAAM,CAAC,CACpB,CAAC,CAAC,CACN,CACA,QAASC,SAAQ,CAACC,EAAE,CAAE,CACpBN,KAAK,CAACF,GAAG,CAAG,GAAG,CAAGQ,EAAE,CAAE,CAAEC,MAAM,CAAE,QAAS,CAAC,CAAC,CAC3ClB,UAAU,CACRD,OAAO,CAACoB,MAAM,CAAC,SAACC,IAAI,CAAK,CACvB,MAAOH,GAAE,GAAKG,IAAI,CAACH,EAAE,CACvB,CAAC,CAAC,CACH,CAEH,CAEA,QAASI,QAAO,CAACJ,EAAE,CAAE,CACnBT,YAAY,CAAC,QAAQ,CAAC,CACtB,GAAIc,EAAC,CAAGvB,OAAO,CAACwB,IAAI,CAAC,SAACC,OAAO,CAAK,CAChC,MAAOA,QAAO,CAACP,EAAE,GAAKA,EAAE,CAC1B,CAAC,CAAC,CACFf,OAAO,CAACoB,CAAC,CAACrB,IAAI,CAAC,CACfG,MAAM,CAACkB,CAAC,CAACnB,GAAG,CAAC,CACbG,KAAK,CAACW,EAAE,CAAC,CACX,CAEA,QAASQ,aAAY,CAACC,KAAK,CAAE,CAC3B,GAAIC,YAAW,CAAED,KAAK,CAACE,MAAM,CAACC,SAAU,CACxC,GAAGF,WAAW,GAAG,QAAQ,CAAC,CAC1B,GAAIG,KAAI,CAAG,CAAE7B,IAAI,CAAJA,IAAI,CAAEE,GAAG,CAAHA,GAAI,CAAC,CAExBQ,KAAK,CAACF,GAAG,CAAE,CACTS,MAAM,CAAE,KAAK,CACba,OAAO,CAAE,CACPC,MAAM,CAAE,kBAAkB,CAC1B,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACL,IAAI,CAC3B,CAAC,CAAC,CACClB,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAACG,MAAM,CAAK,CAChBL,QAAQ,EAAE,CACZ,CAAC,CAAC,CACJR,OAAO,CAAC,EAAE,CAAC,CACXE,MAAM,CAAC,EAAE,CAAC,CACV,CAAC,IACG,CACF,GAAI0B,MAAI,CAAG,CAAE7B,IAAI,CAAJA,IAAI,CAAEE,GAAG,CAAHA,GAAI,CAAC,CAE1BQ,KAAK,CAACF,GAAG,CAAG,CACVS,MAAM,CAAE,MAAM,CACda,OAAO,CAAE,CACPC,MAAM,CAAE,kBAAkB,CAC1B,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACL,KAAI,CAC3B,CAAC,CAAC,CACClB,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAACG,MAAM,CAAK,CAChBL,QAAQ,EAAE,CACZ,CAAC,CAAC,CACFJ,KAAK,CAAC,EAAE,CAAC,CACTJ,OAAO,CAAC,EAAE,CAAC,CACXE,MAAM,CAAC,EAAE,CAAC,CACZ,CACF,CACA,QAASgC,gBAAe,EAAE,CACxB;AACAlC,OAAO,CAAC,EAAE,CAAC,CACXE,MAAM,CAAC,EAAE,CAAC,CACVE,KAAK,CAAC+B,QAAQ,CAACtC,OAAO,CAACA,OAAO,CAACuC,MAAM,CAAC,CAAC,CAAC,CAACrB,EAAE,CAAC,CAAC,CAAC,CAAC,CAC/CT,YAAY,CAAC,QAAQ,CAAC,CACxB,CAGA,mBACE,aAAK,SAAS,CAAC,KAAK,wBAClB,oBAAI,iBAAe,EAAK,cACxB,qCACE,sCACE,mCACE,oBAAI,YAAU,EAAK,cACnB,oBAAI,cAAY,EAAK,cACrB,oBAAI,aAAW,EAAK,cACpB,oBAAI,MAAI,EAAK,cACb,oBAAI,QAAM,EAAK,GACZ,CACJT,OAAO,CAACwC,GAAG,CAAC,SAACC,MAAM,CAAEC,KAAK,CAAK,CAC9B,mBACE,KAAC,GAAG,EAEF,EAAE,CAAED,MAAM,CAACvB,EAAG,CACd,IAAI,CAAEuB,MAAM,CAACvC,IAAK,CAClB,GAAG,CAAEuC,MAAM,CAACrC,GAAI,CAChB,QAAQ,CAAEa,QAAS,CACnB,MAAM,CAAEK,OAAQ,EALXoB,KAAK,CAMV,CAEN,CAAC,CAAC,GACI,EACD,cACT,oCACE,oBAAI,gBAAc,EAAK,cACvB,qCACE,sCACE,mCACE,oBAAI,aAAW,EAAK,cACpB,iCAAI,eAAQ,OAAO,CAAEL,eAAgB,UAAC,KAAG,EAAS,EAAK,GACpD,cACP,mCACI,oBAAI,IAAE,EAAK,cACX,iCACE,cACE,IAAI,CAAC,MAAM,CACX,KAAK,CAAE/B,MAAO,EAEd,EACC,GACF,cACL,mCACE,oBAAI,MAAI,EAAK,cACb,iCACE,cACE,IAAI,CAAC,MAAM,CACX,KAAK,CAAEJ,IAAK,CACZ,QAAQ,CAAE,kBAACyC,CAAC,QAAKxC,QAAO,CAACwC,CAAC,CAACd,MAAM,CAACe,KAAK,CAAC,EAAC,EACzC,EACC,GACF,cACL,mCACE,oBAAI,KAAG,EAAK,cACZ,iCACE,cACE,IAAI,CAAC,MAAM,CACX,KAAK,CAAExC,GAAI,CACX,QAAQ,CAAE,kBAACuC,CAAC,QAAKtC,OAAM,CAACsC,CAAC,CAACd,MAAM,CAACe,KAAK,CAAC,EAAC,EACxC,EACC,GACF,cACL,iCACE,WAAI,OAAO,CAAC,GAAG,uBACb,qCACE,eAAQ,OAAO,CAAElB,YAAa,UAAGlB,MAAM,EAAU,EAC1C,EACN,EACF,GACC,EACD,GACL,GACF,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}